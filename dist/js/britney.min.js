"use strict";!function(){angular.module("britney",[])}(),function(){function a(a,b,c){function d(a){if(angular.isString(a))f({message:a});else if(a.stateName){var b=a.stateName;delete a.stateName,g(a,b)}else f(a)}function e(){function b(a,b){h(b.name)}a.$on("$stateChangeSuccess",b)}function f(a){var b=j(a);i(angular.extend({},n,b))}function g(a,b){var c=j(a);l.push([b,angular.extend({},n,c)])}function h(a){for(var b,c,d;l.length>0;)b=l.pop(),c=b[0],d=b[1],c===a&&i(d)}function i(d){-1===c.indexOf(d.severity)&&delete d.severity,d=angular.extend({},n,d),d.id=k("notification_"),a.$broadcast(b,d)}function j(a){var b={};return a.message&&(b.message=a.message),a.severity&&(b.severity=a.severity),a.sticky&&(b.sticky=a.sticky),b}function k(a){return a+m++}var l=[],m=0,n={sticky:!1,severity:"info"};return e(),{flash:d}}angular.module("britney").factory("Britney",a)}(),function(){function a(a,b,c,d){function e(){a.$on("event:add-notification",g),a.$on("$stateChangeStart",h)}function f(a){delete j.notifications[a]}function g(c,e){i(e);var g=e.id;j.notifications[g]=e,e.sticky||b.setTimeout(function(){f(g),a.$apply()},d)}function h(){j.notifications={}}function i(a){if(!angular.isString(a)){var b=angular.isString(a.message),d=angular.isString(a.severity),e="boolean"==typeof a.sticky;if(!b)throw new Error("(Britney) notification message must be a String. Please read docs at "+c);if(!d)throw new Error("(Britney) notification severity value is not supported. Please read docs at "+c);if(!e)throw new Error("(Britney) notification sticky value must be a Boolean. Please read docs at "+c)}}var j=this;j.notifications={},j.removeNotification=f,e()}angular.module("britney").controller("BritneyController",a)}(),angular.module("britney").directive("britneyNotifications",function(){return{template:'<div ng-repeat="(id, notification) in ctrl.notifications" class="notification {{notification.severity}}" ng-click="ctrl.removeNotification(id)"><span class="message">{{ notification.message }}</span></div>',restrict:"E",controller:"BritneyController",controllerAs:"ctrl"}});